!function(e){var t={};function o(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=553)}({25:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.apikey="64NQWtq9QFiaGqiYgikhAzebf",t.blockVideoURL="https://www.youtube.com/watch?v=iOd5r5pfHig",t.blockVideoId="iOd5r5pfHig",t.locationReportUrl="https://service.blocksi.net/location?",t.blockVideoURLCategory="https://www.youtube.com/watch?v=K1bqOLECS98",t.blockVideoIdCategory="K1bqOLECS98",t.blockVideoURLKeyword="https://www.youtube.com/watch?v=UxHtzcD5w4M",t.blockVideoIdKeyword="UxHtzcD5w4M",t.blockVideoURLChannel="https://www.youtube.com/watch?v=91kMzHkPr38",t.blockVideoIdChannel="91kMzHkPr38",t.logHost="https://log.blocksi.net/v1/sendLog",t.screenHost="https://log.blocksi.net/v1/screenshotUploadUrl",t.ratingHost1="https://service1.blocksi.net/getRating.json?url=",t.ratingHost2="https://service2.blocksi.net/getRating.json?url=",t.websocketHost="wss://ssl-ex-ws.blocksi.net",t.googleApiKey="AIzaSyDW38ZmZ_OtBHrN1vMDWih-skMf8KGLoOE",t.elasticsearchUrl="https://log.blocksi.net/v1/metrics",t.elasticsearchDebugUrl="http://debug.block.si/config",t.socketIoHost="wss://k8s-ws-lb.blocksi.net",t.tdApi="https://api.blocksi.net/api/2.0",t.configHost="https://service.blocksi.net/config",t.configV1k8s="http://api.blocksi.net",t.searchUrls=["*://www.google.ca/*","*://www.google.co.in/*","*://www.google.co.th/*","*://www.google.co.uk/*","*://www.google.com/*","*://www.google.com.mx/*","*://www.google.com.tw/*","*://www.google.com.sg/*","*://www.google.com.my/*","*://www.google.com.ph/*","*://www.google.co.id/*","*://www.google.co.th/*","*://www.google.co.kr/*","*://www.google.com.hk/*","*://www.google.co.th/*","*://www.google.es/*","*://www.google.fr/*","*://www.google.no/*","*://www.google.si/*","*://www.google.com/*","*://www.bing.com/*","*://duckduckgo.com/*","*://yandex.com/*","*://search.yahoo.com/*","*://*.search.yahoo.com/*","*://www.ecosia.org/*","*://www.kiddle.co/*","*://www.kidrex.org/*","*://cse.google.com/*","*://www.qwant.com/*"],t.googleGamesUrls=["/logos/fnbx/solitaire","/fbx?fbx=minesweeper","/logos/2010/pacman10","/fbx?fbx=tic_tac_toe","/fbx?fbx=snake_arcade","/logos/doodles/2017/fischinger","/logos/2017/logo17"],t.assessmentPage=`chrome-extension://${chrome.runtime.id}/pages/assessment.html`,t.headsUpPage=`chrome-extension://${chrome.runtime.id}/pages/heads_up.html`,t.blockPage=`chrome-extension://${chrome.runtime.id}/pages/blockPage.html`,t.chatPage=`chrome-extension://${chrome.runtime.id}/pages/chat.html`,t.enforcePage=`chrome-extension://${chrome.runtime.id}/pages/enforce.html`,t.bedTimePage=`chrome-extension://${chrome.runtime.id}/pages/bedtime.html`},553:function(e,t,o){e.exports=o(554)},554:function(e,t,o){"use strict";var n=o(25);function c(e){let t;t=(""+e).replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,'<a href="$1" target="_blank">$1</a>');return t=t.replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2" target="_blank">$2</a>'),t}const s=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};chrome.runtime.sendMessage({message:document.getElementById("userInput").value,type:"getClassData"});let l=!0;chrome.runtime.onMessage.addListener(e=>{switch(e.type){case"receiveChat":{const t=document.querySelector("#chatArea"),{message:o,teacher:n}=e,s=document.createElement("div"),l=document.createElement("p"),a=document.createElement("span"),r=document.getElementById("chatArea");l.setAttribute("class","TeacherTxt"),a.setAttribute("class","TeacherTxt"),s.setAttribute("class","TeacherTxt");let i=(new Date).toLocaleString("en-US");i="Today,"+i.split(",")[1],l.innerText=i,a.innerText=n.split("@")[0],null!=o&&(o.includes("<")&&o.includes(">")&&o.includes("</")?s.innerText=o:s.innerHTML=c(o)),r.appendChild(l),r.appendChild(a),r.appendChild(s),t.scrollTop=t.scrollHeight-t.clientHeight;break}case"classData":{const t=document.querySelector("#chatArea"),o=e.classData.data.Title,l=e.classData.data.CompanyId,{companyId:a}=e,r=e.classData.data._id,i=document.getElementById("classTitle");document.getElementById("teacherName").innerText=l,i.innerText=o;const d=document.getElementById("chatArea");fetch(`${n.tdApi}/classes/${a}/${r}/chat/history/${e.user}`).then(e=>e.json()).then(e=>{const o=e.data;if(0!==o.length)for(let e=0;e<o.length;e++){const n=document.createElement("div"),l=document.createElement("p"),a=document.createElement("span");"TEACHER"===o[e].message_from?(n.setAttribute("class","TeacherTxt"),l.setAttribute("class","TeacherTxt"),a.setAttribute("class","TeacherTxt"),a.innerText=o[e].teacher_id.split("@")[0]):(n.setAttribute("class","StudentTxt"),l.setAttribute("class","StudentTxt"),a.setAttribute("class","StudentTxt"),a.innerText="You");const r=new Date(+o[e].time);let i=r.toLocaleString("en-US");s(r)&&(i="Today,"+i.split(",")[1]),null!==o[e].body&&void 0!==o[e].body&&(o[e].body.includes("<")&&o[e].body.includes(">")&&o[e].body.includes("</")?n.innerText=o[e].body:n.innerHTML=c(o[e].body)),l.innerText=i,d.appendChild(l),d.appendChild(a),d.appendChild(n),t.scrollTop=t.scrollHeight-t.clientHeight}});break}case"enableChat":{l=e.message;const t=document.getElementById("btnSend");l?(t.disabled=!1,t.style.backgroundColor="#ff9000"):(t.disabled=!0,t.style.backgroundColor="#c7c3be");break}}});const a=document.getElementById("btnSend");a.onclick=function(){if(l){const e=document.querySelector("#chatArea"),t=document.getElementById("userInput"),o=document.createElement("div"),n=document.createElement("p"),s=document.createElement("span"),l=document.getElementById("chatArea");if(n.setAttribute("class","StudentTxt"),s.setAttribute("class","StudentTxt"),o.setAttribute("class","StudentTxt"),t.value.includes("<")&&t.value.includes(">")&&t.value.includes("</")?o.innerText=t.value:o.innerHTML=c(t.value),""===o.innerText||o.innerText.includes("data:text/html"))return!1;chrome.runtime.sendMessage({message:document.getElementById("userInput").value,type:"chatMsg"});let a=(new Date).toLocaleString("en-US");a="Today,"+a.split(",")[1],n.innerText=a,s.innerText="You",l.appendChild(n),l.appendChild(s),l.appendChild(o),e.scrollTop=e.scrollHeight-e.clientHeight,document.getElementById("userInput").value=""}},document.body.addEventListener("keyup",e=>{13===e.keyCode&&a.click()})}});